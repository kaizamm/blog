---
layout: post
published: true
title:  postgres数据库基本操作
categories: [数据库，qy]
tags: [postgres]
---
* content
{:toc}

# 导出数据库及具体表
标准语句：
```
pg_dump --host xxxxx.com --port 3434 --username cs  > cs.sql cs
```

1. 导出数据库：

`pg_dump  -U username -d db_name > /tmp/zk.sql`

2. 导出表：

`pg_dump -U username -t table_name db_name > db.sql`

3. 导出并压缩

`pg_dump -d db_name | gzip > db.gz`


# 导入数据库及表

+ 导入数据库
```
createdb dbname  
psql -U username -d db_name < db.sql
```

+ 导入具体表(不用指定表名)
```
psql  -d zone  -f /opt/zone.sql
```

#  将数据库重命名

`ALTER DATABASE name RENAME TO new_name`

# 将表重命名
`alter table quota rename to quotabak`
注意，如果上述quotabak是quota-bak就会失败

# 附：

`mysql>  SHOW TABLE STATUS LIKE 'testalter_tbl'\G`
