<!DOCTYPE html>
<html>

  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>chapter1-python-正则表达式 - Think Deep,Work Lean</title>

	<link rel="shortcut icon" href="/styles/images/favicon.jpg">
	<link rel="icon" href="/styles/images/favicon.jpg">

	<link rel="stylesheet" href="/styles/css/index.css">
	<link rel="stylesheet" href="/styles/css/fontawesome/css/font-awesome.min.css">
	<link rel="stylesheet" href="/styles/css/syntax.css">
	<link rel="canonical" href="/2017/07/07/chapter1-python-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">
	<link rel="alternate" type="application/rss+xml" title="Think Deep,Work Lean" href="/feed.xml">
	
	<meta name="keywords" content="chapter1-python-正则表达式, Think Deep,Work Lean, 张凯:逆水行舟,不进则退;取法乎上，仅得其中；取法乎中，仅得其下;究天人之际，通古今之变，成一家之言">
	<meta name="description" content="张凯:逆水行舟,不进则退;取法乎上，仅得其中；取法乎中，仅得其下;究天人之际，通古今之变，成一家之言">

	<script src="/styles/js/jquery.min.js"></script>
	<!--[if lt IE 9]>
    	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  	<![endif]-->
  	<script>
		var _hmt = _hmt || [];
		(function() {
		  var hm = document.createElement("script");
		  hm.src = "//hm.baidu.com/hm.js?a81273dded286ab83c533a4184e6ae8c";
		  var s = document.getElementsByTagName("script")[0]; 
		  s.parentNode.insertBefore(hm, s);
		})();
	</script>
  	<style type="text/css">
	  	.docs-content{
	  		margin-bottom: 10px;
	  	}
  	</style>
</head>

  <body class="index">

    <header class="navbar navbar-inverse navbar-fixed-top docs-nav" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">
        <img src="/styles/images/logo.jpg">
      </a>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">    
        <li>
          <a href="/">Home</a>
        </li>
        <li>
          <a href="/categories/">Catagory</a>
        </li>
        <li>
          <a href="/tag">Tags</a>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
  <!--      <li>
            <a><span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span></a>
        </li>-->
        <li>
          <a href="/donate/"><strong>打赏</strong></a>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">关于<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a rel="nofollow" target="_blank" href="https://github.com/kaizamm">Github</a></li>
            <li><a rel="nofollow" href="/author">关于作者</a></li>
            <li><a rel="nofollow" href="/books">我的书单</a></li>
        <!--    <li><a rel="nofollow" href="http://www.hifreud.com/domains/">域名管理</a></li>-->
            <li><a rel="nofollow" href="/note">札记随录</a></li>
            <li class="divider"></li>
<!--            <li><a rel="nofollow" target="_blank" href="https://github.com/luoyan35714/LessOrMore.git">本项目</a></li>-->
          </ul>
        </li>
      </ul>
    </nav>
  </div>
</header>

    <div class="docs-header" id="content">
  <div class="container">
  	
  		<!--
		    <h1>chapter1-python-正则表达式</h1>
		    <p>Post on Jul 07, 2017 by <a href="/about">Kaiz</a></p>
		-->
		    <h1>Think Deep,Work Lean</h1>
    
  </div>
</div>
    
      
<div class="banner">
  <div class="container">
  	
    	<a href="/categories/#project-ref">project</a>	/
    	<a href="/tag/#python-ref">python</a>
    
  </div>
</div>

    

    <div class="container docs-container">
  <div class="row">
    <div class="col-md-3">
      <div class="sidebar hidden-print" role="complementary">
        <div id="navigation">
  <h1>目录</h1>
  <ul class="nav sidenav">
  </ul>
  <div style="height: 200px;width: 200px;">
    <script type="text/javascript" src="//rf.revolvermaps.com/0/0/8.js?i=5ytn1ssq6za&amp;m=0&amp;c=ff0000&amp;cr1=ffffff&amp;f=arial&amp;l=33" async="async"> 
    </script>
  </div>
</div>

 
      </div>
    </div>
    <div class="col-md-9" role="main">
      <div class="panel docs-content">
        <div class="wrapper">
            <header class="post-header">
              <h1 class="post-title">chapter1-python-正则表达式</h1>
              <!--
                <p class="post-meta">Jul 7, 2017</p>
              -->
              <div class="meta">Posted on <span class="postdate">Jul 07, 2017</span> By <a target="_blank" href="https://kaizamm.github.io">Kaiz</a></div>
              <br />
            </header>
            <article class="post-content">
              <hr />
<hr />
<p>layout:       post
title:        “用python实现用户登陆”
date:         2017-07-04 12:00:00
categories: python
tag: project
—</p>

<h2 id="特殊符号和字符">特殊符号和字符</h2>

<h3 id="择一匹配-">择一匹配 (|)</h3>
<p>择一匹配(|)，表示一个“从多个模式中选择其一”的操作。它用于分割不同的正则表达式</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>at|home  -&gt; at、home
r2d2|c3po  -&gt; r2d2、c3po
bat|bet|bit -&gt; bat、bet、bit
</code></pre></div></div>
<p>择一匹配有时候也叫作并(union)或者逻辑或(logical OR)</p>

<h3 id="匹配任一单一字符">匹配任一单一字符</h3>
<p>点号.匹配除了换行符\n以外的任何字符，即字母、数字、空格(不包含换行符\n)、可打印字符、不可打印字符、符号都可匹配</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>f.o  -&gt; f和o之间任意字符，fao、f9o、f#o
..  -&gt; 任意两个字符
.end  -&gt; 匹配在end开头的任意一个字符
</code></pre></div></div>
<h3 id="从字符串起始或者结尾或者单词边界匹配">从字符串起始或者结尾或者单词边界匹配</h3>
<ul>
  <li>类似shell, ^匹配开头,$匹配末尾</li>
  <li>\b和\B可以用来匹配字符边界，\b用于匹配一个单词的边界，同时\B将匹配出现在一个单词中间模式（即，不是单词边界）
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>the -&gt; 任何包含the的字符串
\bthe -&gt; 任何以the开始的字符串
\bthe\b -&gt; the
\Bthe  -&gt; 任何包含不以the作为起始的字符串
</code></pre></div>    </div>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>m = re.search('^The','The end.')
if m is not None: m.group()
&gt;'The'
m = re.search('^The','end.The')
if m is not None: m.group()
&gt;
m = re.search(r'\bthe','bite the dog')
if m is not None: m.group()
&gt;'the'
m = re.search(r'\bthe','bitethe dog')
if m is not None: m.group()
&gt;
m = re.search(r'\Bthe','bitethe dog')
if m is not None: m.group()
&gt;'the'
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="创建字符集">创建字符集</h3>
<p>尽管句点.能够匹配任一单一字符集，但某些时候想要匹配某些特定字符，此时可以用方括号[],与shell类似，匹配方括号中的任一字符</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>b[aeiu]t -&gt; bat,bet,bit,but
[cr][23][dp][o2] -&gt; c2do,r2do,c2do……
</code></pre></div></div>
<p>[]表示逻辑或的功能</p>

<h3 id="限定范围和否定">限定范围和否定</h3>
<p>除了单字符外，字符集还支持匹配指定的字符范围。方括号中间用-连接两个字符，指定其范围；如A-Z,a-z,0-9；如果^紧跟在左方括号后面，则表示不匹配给定字符中的任一字符，如[^aeiou]，[^\t\n]</p>
<h3 id="使用闭包操作符实现存在性和频数匹配">使用闭包操作符实现存在性和频数匹配</h3>
<ul>
  <li>
    <ul>
      <li>匹配左边的正则表达示0次或多次</li>
    </ul>
  </li>
  <li>
    <ul>
      <li>匹配左边的正则表达示1次或多次</li>
    </ul>
  </li>
  <li>？ 匹配一次或0次</li>
  <li>{} ： {M}:匹配M次，{M,N}:匹配M到N次
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[dn]ot?  -&gt; do、no、dot、not
0?[1-9] -&gt; 001,01,009,09……
[0-9]{15,16} -&gt; 匹配15或者16个数字，如信用卡号码
[^aeiou]  -&gt; 不匹配给定字符中的任一字符
</code></pre></div>    </div>
    <h3 id="表示字符集的特殊字符">表示字符集的特殊字符</h3>
    <p>与使用0-9这个范围表示十进制数相比，可以简单地使用d表示匹配任何十进制数字。另一个特殊字符\w能够用于不表示全部字母数字的字符集，相当 于[A-Za-z0-9_]的缩写形式，\s可以用来表示空格字符。这些特殊字符的大写版表示不匹配；例如，\d表示匹配十进制，\D表示任何非十进制数，与[^0-9]相同。</p>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\w+-|d+ -&gt; 一个由字母数字组成的字符串和一串由一个连字符分隔的数字
[A-Za-z]\w* 第一个字母，其余字符（如果存在）是字母或数字
\d{3}-\d{3}-\d{4}  美国电话号码的的格式，前面是区号前缀，例如800-555-1212
\w+@\w+\.com  xxx@yyy.com
</code></pre></div>    </div>
    <h3 id="使用圆括号指定分组">使用圆括号指定分组</h3>
    <p>对已经匹配过的字符串结果进行再匹配，用()</p>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\d+(\.\d*)?  -&gt; 表示简单浮点数的字符串：也就是说，任何十进制数字，后面可以接一个小数点和零个或者多个十进制数字，例如"0.004" "2" "75."
(Mr?s?)[A-Z][a-z]*[A-Za-z]+  -&gt; 名字和姓氏，以及对名字的限制(如果有，首字母必须大写，后续字母小写)，全名前可以有可选的“Mr.”，“Mrs.”,"Ms."或者"M."作为称谓，以及灵活可选的姓氏，可以有多个单词、横线以及大写字母
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="python与正则">python与正则</h2>

<h3 id="re">re</h3>
<ul>
  <li>compile(pattern,flags = 0） ： re.compile()预编译，能提高执行性能。模块函数会对已编译的对象进行缓存，所以不是所有使用相同正则表达式模式的search()和match()都需要编译，purge()函数能够用于清除这些缓存。</li>
  <li>match(pattern, string,flags=0)：尝试使用带有可选标记的正则表达式的模式来匹配字符串，如果匹配成功，返回匹配对象，若失败，返回None
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>m = re.match('foo','foo')
if m is not None:
m.group()
-&gt; 'foo'
</code></pre></div>    </div>
  </li>
  <li>search(pattern, string, flags=0)：使用可选标记搜索字符串中第一次出现的正则表达式模式，如果匹配成功，则返回匹配对象；如果失败，则返回None
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>m = re.match('food','seafood')
if m is not None:
m.group()
-&gt;   #匹配失败
</code></pre></div>    </div>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>m = re.search('foo','seafood')
if m is not None:
m.group()
-&gt;'foo' #搜索成功，匹配失败
</code></pre></div>    </div>
  </li>
  <li>findall(pattern,string[,flags]):查询某个字符串中某个正则表达式模式全部的非重复出现情况。这与search()在执行字符串搜索时类似，但与match()与search()不同之处在于它返回一个列表，成功则返回所有成功匹配的部份；若未找到匹配的部份，则返回空列表。
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>re.findall('car','car')
&gt;['car']
re.findall('car','scary')
&gt;['car']
re.findall('car','carry the barcardi to the car')
&gt;['car','car','car']
</code></pre></div>    </div>
  </li>
  <li>finditer(pattern,string[,flags])</li>
  <li>split(pattern,string,max=0)</li>
  <li>sub(pattern,repl,string,count=0)</li>
  <li>purge()</li>
  <li>group(num=0) ：返回整个匹配对象，或者编号为num的特定子组</li>
  <li>groups(default=None) ：返回一个包含所有匹配子组的元组（如果没成功匹配，则返回一个空元组）</li>
  <li>groupdict(default=None): 返回字典，类似上</li>
  <li>re.I、re.IGNORECASE ： 不区分大小写的匹配</li>
  <li>re.L、reLOCALE:</li>
  <li>re.M、re、MULTILINE</li>
  <li>re.S、rer.DOTALL</li>
  <li>re.X、re.VERBOSE</li>
</ul>

<h2 id="按要求创建正则表达式">按要求创建正则表达式</h2>
<ul>
  <li>识别后续的字符串： “bat”、“bit”、“but”、“hat”、“hit”或者“hurt”
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>data = 'bat bit but hat hit hurt'
m = re.findall("[bh][aiu].?t",data)
if m is not None:
print m
&gt;['bat', 'bit', 'but', 'hat', 'hit', 'hurt']
</code></pre></div>    </div>
  </li>
</ul>

            </article>
        </div>
      </div>
    </div>
  </div>
</div>

    
    <footer class="footer" role="contentinfo">
	<div class="container">
		<p class="copyright">Copyright &copy; 2014-2018 <a href=""><code>Kaiz</code></a>.</p>
	<!--	<p>Powered by <a href="http://jekyllrb.com">Jekyll</a>, themed from <a href="http://lesscss.cn/">Less</a>, refactored by <a href="http://www.hifreud.com/">Freud Kang</a></p> -->
	</div>
</footer>

<script src="/styles/js/jquery.min.js"></script>
<script src="/styles/js/bootstrap.min.js"></script>
<script src="/styles/js/holder.min.js"></script>
<script src="/styles/js/lessismore.js"></script>
<script src="/styles/js/application.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


  </body>
</html>
